var width=960,height=960,format=d3.format(",d"),pack=d3.layout.pack().size([width-4,height-4]).value(function(t){return t.size}),vis=d3.select("#chart").append("svg").attr("width",width).attr("height",height).attr("class","pack").append("g").attr("transform","translate(2, 2) scale(.85)");d3.json("./assets/data/curriculum.json",function(t){var e=vis.data([t]).selectAll("g.node").data(pack.nodes).enter().append("g").attr("class",function(t){return t.children?"node":"leaf node"}).attr("transform",function(t){return"translate("+t.x+","+t.y+")"});e.append("title").text(function(t){return t.name+(t.children?"":": "+format(t.size))}),e.append("circle").attr("r",function(t){return t.r}),e.filter(function(t){return!t.children}).append("text").attr("text-anchor","middle").attr("dy",".3em").text(function(t){return t.name.substring(0,t.r/3)})});