var radius=480,tree=d3.layout.tree().size([360,radius-120]).separation(function(t,a){return(t.parent==a.parent?1:2)/t.depth}),diagonal=d3.svg.diagonal.radial().projection(function(t){return[t.y,t.x/180*Math.PI]}),vis=d3.select("#radial").append("svg").attr("width",2*radius).attr("height",2*radius-150).append("g").attr("transform","translate("+radius+","+radius+")");d3.json("./assets/data/curriculum.json",function(t){var a=tree.nodes(t);vis.selectAll("path.link").data(tree.links(a)).enter().append("path").attr("class","link").attr("d",diagonal);var r=vis.selectAll("g.node").data(a).enter().append("g").attr("class","node").attr("transform",function(t){return"rotate("+(t.x-90)+")translate("+t.y+")"});r.append("circle").attr("r",4.5),r.append("text").attr("dx",function(t){return t.x<180?8:-8}).attr("dy",".31em").attr("text-anchor",function(t){return t.x<180?"start":"end"}).attr("transform",function(t){return t.x<180?null:"rotate(180)"}).text(function(t){return t.name})});